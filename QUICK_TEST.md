# 快速测试指南

## 5 分钟快速验证插件是否工作

### 步骤 1：检查配置（1 分钟）

打开 **Loon**，确认以下项目：

```
✓ VPN 已连接（状态栏有 VPN 图标）
✓ 插件列表中「Telegram 广告屏蔽」已启用（绿色开关）
✓ MITM 开关已打开
✓ 证书已安装并信任
```

### 步骤 2：开启日志（30 秒）

1. Loon → **工具** → **日志**
2. 确保日志记录已开启
3. 保持日志页面打开

### 步骤 3：测试 Telegram（2 分钟）

1. 打开 **Telegram** 应用
2. 访问任意 **大型频道**（订阅数 > 10万）
3. 在频道中滚动浏览，加载 5-10 条消息
4. 关闭 Telegram

### 步骤 4：查看结果（1 分钟）

返回 **Loon** 查看日志，寻找以下内容：

#### ✅ 成功案例

如果看到类似这样的日志：

```
[Telegram AdBlocker v2.0.0] ✓ 成功移除 1 个广告项 (15234 -> 12456 bytes)
```

或

```
[Telegram AdBlocker v2.0.0] ✓ 移除 sponsoredMessages 字段 (1 条)
```

**恭喜！插件正常工作！** 🎉

#### ⚠️ 注意

如果看到：

```
[Telegram AdBlocker v2.0.0] 处理完成 (12345 -> 12345 bytes)
```

这是正常的，说明：
- 插件正在工作
- 当前响应中没有广告内容
- 或者当前访问的频道没有赞助消息

#### ❌ 问题情况

如果 **完全没有看到任何** `[Telegram AdBlocker]` 日志：

1. 检查 MITM 是否启用
2. 检查证书是否信任
3. 完全关闭并重启 Telegram
4. 重新测试

### 步骤 5：视觉确认（1 分钟）

1. 打开 Telegram
2. 访问几个大型频道
3. 检查频道顶部是否还有 **"广告"** 或 **"Sponsored"** 标签

**如果没有看到，说明插件成功工作！**

## 对比测试（可选）

想要更直观地验证效果？试试这个：

### 关闭插件

1. Loon → 配置 → 插件
2. 关闭「Telegram 广告屏蔽」
3. 完全关闭 Telegram（从后台移除）
4. 重新打开 Telegram
5. 访问大型频道
6. 记录是否看到 **"广告"** 标签

### 开启插件

1. 返回 Loon，开启插件
2. 完全关闭 Telegram
3. 重新打开 Telegram
4. 访问同一个频道
5. 检查 **"广告"** 是否消失

## 常见测试频道建议

建议访问这些类型的频道进行测试（它们通常会显示赞助消息）：

- 📰 新闻类频道（订阅数 > 10万）
- 💰 加密货币频道
- 📱 科技资讯频道
- 🎬 娱乐频道
- 🌍 地区新闻频道

## 快速故障排查

| 问题 | 快速解决 |
|------|---------|
| 没有任何日志 | MITM 未生效 → 检查证书信任 |
| 仍能看到"广告" | 完全关闭 Telegram 后重试 |
| Telegram 无法连接 | 暂时关闭插件，重新生成证书 |
| 日志显示错误 | 提交 Issue 到 GitHub |

## 预期效果

✅ 正常工作时：
- 日志显示 "成功移除 X 个广告项"
- 频道中看不到 "广告" 标签
- Telegram 功能完全正常
- 加载速度基本不受影响

## 需要帮助？

如果快速测试没有通过，请查看：
- [VERIFICATION.md](VERIFICATION.md) - 完整验证指南
- [README.md](README.md) - 详细故障排查
- [GitHub Issues](https://github.com/g1z2f/loon-telegram-adblocker-/issues) - 提交问题

---

**测试时间**: 约 5 分钟  
**难度**: ⭐☆☆☆☆ 简单  
**适用版本**: v2.0.0+
